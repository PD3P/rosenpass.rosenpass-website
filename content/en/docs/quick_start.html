
---
title: "Quick Start Guide"
linkTitle: "Quick Start Guide"
weight: 60
menu: false
type: docs
---

{{% blocks/section color="white" class="no-flex" %}}

### **Getting Help**

- The `rp` bash program is used to build a VPN with WireGuard and Rosenpass. You can inspect how the tool integrates the `wg` WireGuard frontend and the `rosenpass` tool that implements our cryptography using the `explain` flag. 

```sh
$ rp explain genkey mykey
#! /bin/bash
set -e
umask 077
mkdir -p mykey
wg genkey > mykey/wgsk
rosenpass keygen \
  private-key mykey/pqsk \
  public-key mykey/pqpk
```

- Since Rosenpass was released very recently, packaging is an ongoing process. We will provide packages for debian, nix, arch linux, and possibly alpine. You can follow the process in [the README](https://github.com/rosenpass/rosenpass#getting-rosenpass).

```shell
(arch AUR)     $ aura -A rosenpass-git
(nix-flake)    $ nix profile install github:rosenpass/rosenpass#rosenpass
(cargo)        $ cargo install rosenpass
```

- To get more information about command line parameters used by the tools, you can ask the tools for help:

```sh
rp help
rosenpass help
```

### **Generate and Use Rosenpass Keys**

1. Start by generating secret keys on both hosts:

<span class="starter-code-server">

```sh
<p>user@server:~$</p> rp genkey server.rosenpass-secret
```
</span>
<span class="starter-code-client">

```sh
<p>user@client:~$</p> rp genkey client.rosenpass-secret
```
</span>

2. Extract the public keys:

<span class="starter-code-server">

```sh
<p>user@server:~$</p> rp pubkey server.rosenpass-secret server.rosenpass-public
```
</span>
<span class="starter-code-client">

```sh
<p>user@client:~$</p> rp pubkey client.rosenpass-secret client.rosenpass-public
```
</span>

3. Copy the `-public` directories to the other peers and then start the VPN: 

&nbsp;&bull; On the server:

<span class="starter-code-server">

```sh
<p>user@server:~$</p> sudo rp exchange server.rosenpass-secret dev rosenpass0 listen 192.168.0.1:9999 \
peer client.rosenpass-public allowed-ips fe80::/64
```
</span>

&nbsp;&bull; On the client:

<span class="starter-code-client">

```sh
<p>user@client:~$</p> sudo rp exchange client.rosenpass-secret dev rosenpass0 \
peer server.rosenpass-public endpoint 192.168.0.1:9999 allowed-ips fe80::/64
```
</span>

4. Assign IP addresses:

<span class="starter-code-server">

```sh
<p>user@server:~$</p> sudo ip a add fe80::1/64 dev rosenpass0
```
</span>
<span class="starter-code-client">

```sh
<p>user@client:~$</p> sudo ip a add fe80::2/64 dev rosenpass0
```
</span>

5. Test the connection by pinging the server on the client machine:

<span class="starter-code-client">

```sh
<p>user@client:~$</p> ping fe80::1%rosenpass0
```
</span>

6. You can watch how Rosenpass replaces the WireGuard PSK with the following command:

```sh
watch -n 0.2 'wg show all; wg show all preshared-keys'
```

{{% /blocks/section %}}